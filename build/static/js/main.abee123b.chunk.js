(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[5],{131:function(e,t,n){"use strict";var a={set:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},get:function(e){var t=window.localStorage.getItem(e);return JSON.parse(t)},remove:function(e){window.localStorage.removeItem(e)},getAll:function(){return window.localStorage},clear:function(){window.localStorage.clear()}};t.a=a},143:function(e,t,n){"use strict";var a=n(55);t.a=Object(a.a)()},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return m}));var a=n(26),r=n(14),c=n.n(r),s=n(81),i=n(68),o=n.n(i),l=n(225),d=n(143),u={200:"The server successfully returned the requested data. ",201:"Create or modify data successfully. ",202:"A request has entered the background queue (asynchronous task). ",204:"Delete data successfully. ",400:"There was an error in the request sent, and the server did not create or modify data. ",401:"The admin does not have permission please try to login again. ",403:"The admin is authorized, but access is forbidden. ",404:"The request sent is for a record that does not exist, and the server is not operating. ",406:"The requested format is not available. ",410:"The requested resource has been permanently deleted and will no longer be available. ",422:"When creating an object, a validation error occurred. ",500:"An error occurred in the server, please check the server. ",502:"Gateway error. ",503:"The service is unavailable, the server is temporarily overloaded or maintained. ",504:"The gateway has timed out. "},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.response;if(n){if(n&&n.status){var a=n.data&&n.data.message,r=a||u[n.status],c=n.status;return l.a.config({duration:20}),l.a.error({message:"Request error ".concat(c),description:r}),e.response.data.jwtExpired&&d.a.push("/logout"),n.data}return l.a.config({duration:20}),l.a.error({message:"Unknown Error",description:"An unknown error occurred in the app, please try again. "}),{success:!1,result:t,message:"An unknown error occurred in the app, please try again. "}}return{success:!1,result:t,message:"Cannot connect to the server, Check your internet network"}},p=n(2),j=function(e){e.data.result||(e=Object(p.a)(Object(p.a)({},e),{},{status:404,url:null,data:{success:!1,result:null}}));var t=e,n=t.data;if(!1===n.success){var a=n&&n.message,r=a||u[e.status],c=e,s=c.status;l.a.config({duration:20}),l.a.error({message:"Request error ".concat(s),description:r})}else{var i=n&&n.message,o=(i||e.status,e);o.status}return n},h=n(131);console.log("Askery Mlaik");var f=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(s.b+"login?timestamp=".concat((new Date).getTime())),e.next=4,o.a.post(s.b+"login?timestamp=".concat((new Date).getTime()),t);case 4:return n=e.sent,m.set(n.data.result.token),console.log("_____________"),console.log(n),console.log("_____________"),e.abrupt("return",j(n));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",b(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){m.remove(),h.a.clear()},m={get:function(){return function(e){var t=window.localStorage.getItem(e);return JSON.parse(t)}(s.a)},set:function(e){return t=s.a,n=e,void window.localStorage.setItem(t,JSON.stringify(n));var t,n},remove:function(){return e=s.a,window.localStorage.removeItem(e),!0;var e}}},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(179),r=function(e){return e.auth},c=Object(a.a)([r],(function(e){return e}));Object(a.a)([r],(function(e){return e.current})),Object(a.a)([r],(function(e){return e.isLoggedIn}))},335:function(e,t,n){},336:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(36),c=n.n(r),s=n(40),i=n(149),o=n(351),l=n(2),d=n(11),u=n(341),b=n(150),p=n(5),j=["component"],h=function(e){var t=e.component,n=Object(d.a)(e,j);return Object(p.jsx)(s.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return b.c.get()?Object(p.jsx)(s.a,{to:"/"}):Object(p.jsx)(u.a.div,{initial:{x:200},animate:{x:0},exit:{scale:0},children:Object(p.jsx)(t,Object(l.a)({},e))})}}))},f=n(200),x=function(){return Object(p.jsx)("div",{className:"center",children:Object(p.jsx)(f.a,{size:"large"})})},m=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,391))})),O=Object(a.lazy)((function(){return Promise.all([n.e(9),n.e(4)]).then(n.bind(null,385))}));function g(){var e=Object(s.h)();return Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)(x,{}),children:Object(p.jsx)(o.a,{exitBeforeEnter:!0,initial:!1,children:Object(p.jsxs)(s.d,{location:e,children:[Object(p.jsx)(h,{path:"/",component:m,render:function(){return Object(p.jsx)(s.a,{to:"/login"})}}),Object(p.jsx)(h,{component:m,path:"/login",exact:!0}),Object(p.jsx)(s.b,{path:"*",component:O,render:function(){return Object(p.jsx)(s.a,{to:"/notfound"})}})]},e.pathname)})})}var v=["component"],y=function(e){var t=e.component,n=Object(d.a)(e,v),a={type:"spring",damping:20,stiffness:100};return Object(p.jsx)(s.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return b.c.get()?Object(p.jsx)(u.a.div,{transition:a,initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},children:Object(p.jsx)(t,Object(l.a)({},e))}):Object(p.jsx)(s.a,{to:"/login"})}}))},w=n(26),k=n(4),S=n(14),A=n.n(S),C=n(221),_=n(142),E=n(348),I=n(226),D=n(349),T=n(352),N=n(51),F=n(44),R=n(344),P=n(353),z=n(342),L=n(49),B=n(95),U=n(357),M=n(118),q=n(358),H=n(120),G=n(121),W=n(359),V=n(68),Y=n.n(V),Q=n(216),J=n.n(Q),K=n(228);var $=function(e){var t=e.applicationId,n=Object(a.useState)(!1),r=Object(k.a)(n,2),c=r[0],s=r[1],i=function(){var e=Object(w.a)(A.a.mark((function e(){var n,a,r,c,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),e.prev=1,!(n=localStorage.getItem("x-auth-token"))){e.next=7;break}n=n.replace(/^"|"$/g,""),e.next=10;break;case 7:return I.b.error("Authorization token not found. Please log in."),s(!1),e.abrupt("return");case 10:return e.next=12,fetch("http://localhost:3001/api/admin/admissionApplication/".concat(t,"/downloadPDF"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});case 12:if((a=e.sent).ok){e.next=15;break}throw new Error("Failed to download PDF.");case 15:return e.next=17,a.blob();case 17:r=e.sent,c=window.URL.createObjectURL(new Blob([r])),(i=document.createElement("a")).href=c,i.setAttribute("download","application_".concat(t,".pdf")),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i),I.b.success("PDF downloaded successfully."),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(1),console.error("Error downloading PDF:",e.t0),I.b.error("Failed to download PDF.");case 32:return e.prev=32,s(!1),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[1,28,32,35]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(N.a,{title:"Download Application as PDF",children:Object(p.jsx)(F.a,{type:"default",icon:c?Object(p.jsx)(f.a,{size:"small"}):Object(p.jsx)(K.a,{}),onClick:i,disabled:c,style:{marginLeft:"8px"},children:c?"Downloading...":"Download PDF"})})},X=C.a.Search,Z=_.a.Option,ee=E.a.confirm;var te=function(){var e=Object(a.useState)((function(){var e=localStorage.getItem("app-theme");return e||"light"})),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(k.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)([]),u=Object(k.a)(d,2),b=u[0],j=u[1],h=Object(a.useState)(!0),x=Object(k.a)(h,2),m=x[0],O=x[1],g=Object(a.useState)(""),v=Object(k.a)(g,2),y=v[0],S=v[1],C=Object(a.useState)(null),E=Object(k.a)(C,2),V=E[0],Q=E[1],K=Object(a.useState)(null),te=Object(k.a)(K,2),ne=te[0],ae=te[1],re=Object(a.useState)({current:1,pageSize:20,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," applications")}}),ce=Object(k.a)(re,2),se=ce[0],ie=ce[1],oe=localStorage.getItem("x-auth-token");oe&&(oe=oe.replace(/^"|"$/g,"")),Object(a.useEffect)((function(){le(se.current,se.pageSize)}),[oe]);var le=function(){var e=Object(w.a)(A.a.mark((function e(t,n){var a,r,c,s,i,d,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),e.prev=1,oe){e.next=7;break}return console.error("No token found in localStorage."),I.b.error("You are not authorized. Please log in first."),O(!1),e.abrupt("return");case 7:return e.next=9,Y.a.get("https://api-pil.site/api/admin/admissionApplications?page=".concat(t,"&limit=").concat(n),{headers:{Authorization:"Bearer ".concat(oe)}});case 9:c=e.sent,s=(null===(a=c.data)||void 0===a?void 0:a.data)||[],i=(null===(r=c.data)||void 0===r?void 0:r.total)||0,d=s.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),u=d.map((function(e,a){return Object(l.a)(Object(l.a)({},e),{},{serialNo:(t-1)*n+a+1})})),o(u),j(u),ie((function(e){return Object(l.a)(Object(l.a)({},e),{},{total:i})})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.error("Error fetching admission data:",e.t0),I.b.error("Failed to load admission applications.");case 23:return e.prev=23,O(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[1,19,23,26]])})));return function(t,n){return e.apply(this,arguments)}}(),de="https://api-pil.site/",ue=Object(a.useCallback)(J()((function(e){S(e)}),300),[]);Object(a.useEffect)((function(){var e=i;y&&(e=e.filter((function(e){return e.student_name.toLowerCase().includes(y.toLowerCase())||e.father_name.toLowerCase().includes(y.toLowerCase())||e.district.toLowerCase().includes(y.toLowerCase())}))),V&&(e=e.filter((function(e){return e.applicationStatus.toLowerCase()===V.toLowerCase()}))),ne&&("read"===ne?e=e.filter((function(e){return!0===e.isRead})):"unread"===ne&&(e=e.filter((function(e){return!1===e.isRead})))),j(e),ie((function(e){return Object(l.a)(Object(l.a)({},e),{},{current:1})}))}),[y,V,ne,i]);var be=function(){var e=Object(w.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.put("https://api-pil.site/api/admin/admissionApplication/".concat(t,"/markAsRead"),{},{headers:{Authorization:"Bearer ".concat(oe)}});case 3:o((function(e){return e.map((function(e){return e._id===t?Object(l.a)(Object(l.a)({},e),{},{isRead:!0}):e}))})),I.b.success("Application marked as read."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error marking application as read:",e.t0),I.b.error("Failed to mark application as read.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),pe=[{title:"Profile",dataIndex:"student_photo_path",key:"student_photo_path",render:function(e,t){var n=t.student_photo_path?"".concat(de).concat(t.student_photo_path.replace(/\\/g,"/")):null;return Object(p.jsx)(D.a,{src:n,icon:!n&&Object(p.jsx)(U.a,{}),size:"large",alt:"Student Photo"})},width:100,align:"center"},{title:"Student Name",dataIndex:"student_name",key:"student_name",sorter:function(e,t){return e.student_name.localeCompare(t.student_name)},render:function(e,t){return Object(p.jsx)("span",{style:{fontWeight:t.isRead?"normal":"bold",color:"light"===n?"#1890ff":"#91d5ff",fontSize:"16px"},children:e})},ellipsis:!0,width:180},{title:"Class",dataIndex:"class",key:"class",render:function(e){return Object(p.jsx)("span",{style:{color:"light"===n?"#1890ff":"#91d5ff",fontSize:"14px"},children:e})},filters:[{text:"10",value:"10"},{text:"12",value:"12"},{text:"Other",value:"Other"}],onFilter:function(e,t){return t.class===e},ellipsis:!0,width:100},{title:"Father's Name",dataIndex:"father_name",key:"father_name",sorter:function(e,t){return e.father_name.localeCompare(t.father_name)},render:function(e,t){return Object(p.jsx)("span",{style:{fontWeight:t.isRead?"normal":"bold",fontSize:"14px",color:"light"===n?"#000":"#fff"},children:e})},ellipsis:!0,width:180},{title:"District",dataIndex:"district",key:"district",sorter:function(e,t){return e.district.localeCompare(t.district)},filters:[{text:"District A",value:"District A"},{text:"District B",value:"District B"},{text:"District C",value:"District C"}],onFilter:function(e,t){return t.district===e},ellipsis:!0,width:150},{title:"Date Submitted",dataIndex:"createdAt",key:"createdAt",sorter:function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)},render:function(e){return new Date(e).toLocaleDateString()},ellipsis:!0,width:150},{title:"Status",dataIndex:"applicationStatus",key:"applicationStatus",filters:[{text:"Approved",value:"approved"},{text:"Pending",value:"pending"},{text:"Rejected",value:"rejected"}],onFilter:function(e,t){return t.applicationStatus.toLowerCase()===e.toLowerCase()},sorter:function(e,t){return e.applicationStatus.localeCompare(t.applicationStatus)},render:function(e){var t,n;switch(e.toLowerCase()){case"approved":t="green",n=Object(p.jsx)(M.a,{});break;case"pending":t="orange",n=Object(p.jsx)(q.a,{});break;case"rejected":t="red",n=Object(p.jsx)(H.a,{});break;default:t="blue",n=Object(p.jsx)(U.a,{})}return Object(p.jsx)(T.a,{color:t,icon:n,children:e.charAt(0).toUpperCase()+e.slice(1)},e)},ellipsis:!0,width:130},{title:"Action",key:"action",render:function(e,t){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{title:"View Details",children:Object(p.jsx)(L.a,{to:"/admission/".concat(t._id),children:Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(G.a,{}),size:"middle",style:{marginRight:"10px"},onClick:function(){var e;t.isRead||(e=t._id,ee({title:"Mark as Read",icon:Object(p.jsx)(B.a,{}),content:"Are you sure you want to mark this application as read?",okText:"Yes",okType:"primary",cancelText:"No",onOk:function(){be(e)},onCancel:function(){}}))},"aria-label":"View details of ".concat(t.student_name),children:"View"})})}),Object(p.jsx)(N.a,{title:"Download PDF",children:Object(p.jsx)($,{applicationId:t._id})})]})},ellipsis:!0,width:150}];return Object(p.jsxs)("div",{style:{padding:"30px",backgroundColor:"light"===n?"#f0f2f5":"#121212",minHeight:"100vh",transition:"background-color 0.3s ease"},children:[Object(p.jsxs)(R.a,{style:{borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",backgroundColor:"light"===n?"#ffffff":"#1e1e1e",color:"light"===n?"#000000":"#ffffff",transition:"background-color 0.3s ease, color 0.3s ease"},children:[Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"20px"},children:[Object(p.jsx)("h1",{style:{textAlign:"center",flex:"1 1 100%",fontWeight:"bold",color:"light"===n?"#1890ff":"#91d5ff",fontSize:"28px",textTransform:"uppercase",margin:"0"},children:"Admission Applications"}),Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsxs)("span",{style:{marginRight:"8px",color:"light"===n?"#000":"#fff",fontWeight:"500"},children:["light"===n?"Light":"Dark"," Mode"]}),Object(p.jsx)(P.a,{checked:"dark"===n,onChange:function(e){var t=e?"dark":"light";r(t),localStorage.setItem("app-theme",t)},checkedChildren:"\ud83c\udf19",unCheckedChildren:"\ud83d\udd06","aria-label":"Toggle theme"})]})]}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"25px",flexWrap:"wrap",gap:"20px"},children:[Object(p.jsx)(X,{placeholder:"Search by Student Name, Father's Name, or District",allowClear:!0,onChange:function(e){return ue(e.target.value)},style:{width:"60%",minWidth:"250px"},size:"large",enterButton:!0,suffix:Object(p.jsx)(W.a,{}),"aria-label":"Search applications"}),Object(p.jsxs)(_.a,{allowClear:!0,placeholder:"Filter by Status",onChange:function(e){return Q(e)},style:{width:"25%",minWidth:"200px"},size:"large",suffixIcon:Object(p.jsx)(W.a,{}),"aria-label":"Filter by application status",children:[Object(p.jsx)(Z,{value:"approved",children:"Approved"}),Object(p.jsx)(Z,{value:"pending",children:"Pending"}),Object(p.jsx)(Z,{value:"rejected",children:"Rejected"})]}),Object(p.jsxs)(_.a,{allowClear:!0,placeholder:"Filter by Read Status",onChange:function(e){return ae(e)},style:{width:"25%",minWidth:"200px"},size:"large",suffixIcon:Object(p.jsx)(W.a,{}),"aria-label":"Filter by read status",children:[Object(p.jsx)(Z,{value:"read",children:"Read"}),Object(p.jsx)(Z,{value:"unread",children:"Unread"})]})]}),m?Object(p.jsx)("div",{style:{textAlign:"center",padding:"100px 0"},children:Object(p.jsx)(f.a,{size:"large",tip:"Loading applications..."})}):Object(p.jsx)(z.a,{columns:pe,dataSource:b,rowKey:"_id",pagination:se,bordered:!0,size:"middle",scroll:{x:"max-content",y:600},rowClassName:function(e){return e.isRead?"approved"===e.applicationStatus.toLowerCase()?"table-row-approved":"rejected"===e.applicationStatus.toLowerCase()?"table-row-rejected":"table-row-pending":"table-row-unread"},onChange:function(e,t,n){ie(e),le(e.current,e.pageSize)},sticky:!0})]}),Object(p.jsx)("style",{jsx:"true",children:"\n        .table-row-approved {\n          background-color: #ffffff !important;\n        }\n\n        .table-row-pending {\n          background-color: #fffbe6 !important;\n        }\n\n        .table-row-rejected {\n          background-color: #fff1f0 !important;\n        }\n\n        .table-row-unread {\n          background-color: ".concat("light"===n?"#f2f6fc":"#1f1f1f"," !important; /* Light blue for unread in light mode, dark gray for dark mode */\n          position: relative;\n        }\n\n        /* Hover Effect */\n        .ant-table-tbody > tr:hover > td {\n          background: ").concat("light"===n?"#f5f5f5":"#333333"," !important;\n        }\n\n        /* Pulse Animation for Unread Indicator */\n        @keyframes pulse {\n          0% {\n            transform: scale(0.8);\n            opacity: 1;\n          }\n          100% {\n            transform: scale(1.4);\n            opacity: 0;\n          }\n        }\n\n        /* Apply pulse animation */\n        .table-row-unread div span {\n          animation: pulse 2s infinite;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .ant-table-thead > tr > th {\n            font-size: 12px;\n          }\n\n          .ant-table-tbody > tr > td {\n            font-size: 12px;\n          }\n\n          .ant-input-search {\n            width: 100% !important;\n          }\n\n          .ant-select {\n            width: 100% !important;\n          }\n\n          h1 {\n            font-size: 22px !important;\n          }\n        }\n      ")})]})},ne=n(347),ae=n(70),re=n(346),ce=n(354),se=n(225),ie=n(127),oe=n(338),le=n(339),de=n(350),ue=n(360),be=n(356),pe=["password","_id","__v"],je=ne.a.Title,he=function(){var e=Object(w.a)(A.a.mark((function e(t,n){var a,r,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.get("https://api-pil.site/api/admin/admissionApplication/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 3:return r=e.sent,c=null===(a=r.data)||void 0===a?void 0:a.data,c.password,c._id,c.__v,s=Object(d.a)(c,pe),e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error fetching application data:",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(w.a)(A.a.mark((function e(t,n,a){var r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.put("https://api-pil.site/api/admin/admissionApplication/".concat(t,"/status"),{applicationStatus:n},{headers:{Authorization:"Bearer ".concat(a)}});case 3:return c=e.sent,e.abrupt("return",null===(r=c.data)||void 0===r?void 0:r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating application status:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}();var xe=function(){var e,t,n=Object(s.i)().id,r=Object(s.g)(),c=Object(a.useState)(null),i=Object(k.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(!0),u=Object(k.a)(d,2),b=u[0],j=u[1],h=Object(a.useState)(null),x=Object(k.a)(h,2),m=x[0],O=x[1],g=null===(e=localStorage.getItem("x-auth-token"))||void 0===e?void 0:e.replace(/^"|"$/g,""),v=Object(a.useState)(!1),y=Object(k.a)(v,2),S=y[0],C=y[1],_=Object(a.useState)(!1),I=Object(k.a)(_,2),P=I[0],z=I[1],L=Object(a.useState)(null),B=Object(k.a)(L,2),G=B[0],W=B[1],V=Object(a.useState)(null),Q=Object(k.a)(V,2),J=Q[0],$=Q[1];Object(a.useEffect)((function(){function e(){return(e=Object(w.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return $("Missing application ID. Unable to fetch application details."),j(!1),e.abrupt("return");case 4:return j(!0),e.next=7,he(n,g);case 7:(t=e.sent)?l(t):$("Application not found or failed to fetch application details."),j(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,g]);var X=function(){return r.goBack()},Z=function(e,t){if(!t)return null;var n="https://api-pil.site/".concat(t.replace(/\\/g,"/"));return Object(p.jsx)(ae.a,{xs:24,sm:12,lg:8,style:{marginBottom:"20px"},children:Object(p.jsxs)(R.a,{hoverable:!0,style:{textAlign:"center",borderRadius:"8px",transition:"all 0.3s ease-in-out",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",backgroundColor:"#f9f9f9",cursor:"pointer"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="#e6f7ff",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="#f9f9f9",e.currentTarget.style.transform="scale(1)"},onClick:function(){return O(n)},children:[t.toLowerCase().endsWith(".pdf")?Object(p.jsx)(ue.a,{style:{fontSize:"64px",color:"#ff4d4f"}}):Object(p.jsx)(re.a,{src:n,alt:e,style:{maxHeight:"150px",objectFit:"contain",borderRadius:"8px"},preview:!1}),Object(p.jsx)("div",{style:{marginTop:"10px",fontWeight:"bold",color:"#1890ff"},children:e})]})},e)},ee=function(){var e=Object(w.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return W("Application ID is missing. Cannot approve the application."),e.abrupt("return");case 3:return C(!0),e.prev=4,e.next=7,fe(n,"approved",g);case 7:t=e.sent,l(t),se.a.success({message:"Success",description:"Application has been approved.",placement:"topRight"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),se.a.error({message:"Error",description:"Failed to approve the application. Please try again.",placement:"topRight"});case 15:return e.prev=15,C(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(w.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return W("Application ID is missing. Cannot reject the application."),e.abrupt("return");case 3:return C(!0),e.prev=4,e.next=7,fe(n,"rejected",g);case 7:t=e.sent,l(t),se.a.success({message:"Success",description:"Application has been rejected.",placement:"topRight"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),se.a.error({message:"Error",description:"Failed to reject the application. Please try again.",placement:"topRight"});case 15:return e.prev=15,C(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(w.a)(A.a.mark((function e(){var t,a,r,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return W("Application ID is missing. Cannot download the admit card."),se.a.error({message:"Download Failed",description:"Application ID is missing. Please contact support.",placement:"topRight"}),e.abrupt("return");case 4:return z(!0),W(null),t="https://api-pil.site/api/admin/admitCard?id=".concat(n),e.prev=7,e.next=10,Y.a.get(t,{headers:{Authorization:"Bearer ".concat(g)},responseType:"blob"});case 10:if("application/pdf"===(a=e.sent).headers["content-type"]){e.next=13;break}throw new Error("Received file is not a PDF");case 13:r=new Blob([a.data],{type:"application/pdf"}),c=window.URL.createObjectURL(r),(s=document.createElement("a")).href=c,s.setAttribute("download","Admit_Card_".concat(o.student_name,".pdf")),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s),window.URL.revokeObjectURL(c),se.a.success({message:"Download Successful",description:"Admit card has been downloaded successfully.",placement:"topRight"}),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(7),console.error("Error downloading admit card:",e.t0),W("Failed to download the admit card. Please try again."),se.a.error({message:"Download Failed",description:"There was an issue downloading the admit card. Please try again.",placement:"topRight"});case 30:return e.prev=30,z(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[7,25,30,33]])})));return function(){return e.apply(this,arguments)}}();return b?Object(p.jsxs)("div",{style:{textAlign:"center",marginTop:"50px"},children:[Object(p.jsx)(f.a,{size:"large"}),Object(p.jsx)("p",{children:"Loading Application Details..."})]}):J?Object(p.jsxs)("div",{style:{padding:"40px",backgroundColor:"#f0f2f5",minHeight:"100vh"},children:[Object(p.jsx)(F.a,{type:"default",icon:Object(p.jsx)(be.a,{}),size:"large",style:{marginBottom:"20px"},onClick:X,"aria-label":"Go back to previous page",children:"Back"}),Object(p.jsx)(ce.a,{message:"Error",description:J,type:"error",showIcon:!0,style:{marginBottom:"20px",maxWidth:"600px",margin:"0 auto"}})]}):Object(p.jsxs)("div",{style:{padding:"40px",backgroundColor:"#f0f2f5",minHeight:"100vh"},children:[Object(p.jsx)(F.a,{type:"default",icon:Object(p.jsx)(be.a,{}),size:"large",style:{marginBottom:"20px"},onClick:X,"aria-label":"Go back to previous page",children:"Back"}),function(e){switch(e){case"approved":return Object(p.jsx)(ce.a,{message:"Application Approved",description:"This application has been approved.",type:"success",showIcon:!0,style:{marginBottom:"20px"}});case"pending":return Object(p.jsx)(ce.a,{message:"Application Pending",description:"This application is currently pending.",type:"warning",showIcon:!0,style:{marginBottom:"20px"}});case"rejected":return Object(p.jsx)(ce.a,{message:"Application Rejected",description:"This application has been rejected.",type:"error",showIcon:!0,style:{marginBottom:"20px"}});default:return null}}(o.applicationStatus),function(){return o?"pending"===(e=o.applicationStatus)?Object(p.jsxs)(ie.a,{gutter:[16,16],justify:"center",style:{marginTop:"20px"},children:[Object(p.jsx)(ae.a,{children:Object(p.jsx)(oe.a,{title:"Are you sure you want to approve this application?",onConfirm:ee,okText:"Yes",cancelText:"No",children:Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(M.a,{}),loading:S,style:{backgroundColor:"#52c41a",borderColor:"#52c41a"},"aria-label":"Approve application",children:"Approve"})})}),Object(p.jsx)(ae.a,{children:Object(p.jsx)(oe.a,{title:"Are you sure you want to reject this application?",onConfirm:te,okText:"Yes",cancelText:"No",children:Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(H.a,{}),loading:S,danger:!0,"aria-label":"Reject application",children:"Reject"})})})]}):"approved"===e?Object(p.jsx)(ie.a,{gutter:[16,16],justify:"center",style:{marginTop:"20px"},children:Object(p.jsx)(ae.a,{children:Object(p.jsx)(N.a,{title:"Download Admit Card",children:Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(K.a,{}),loading:P,onClick:ne,className:"download-button",style:{backgroundColor:"#1890ff",borderColor:"#1890ff"},"aria-label":"Download admit card",children:P?"Downloading...":"Download Admit Card"})})})}):null:null;var e}(),G&&Object(p.jsx)(ce.a,{message:"Download Error",description:G,type:"error",showIcon:!0,style:{marginBottom:"20px"}}),Object(p.jsxs)(R.a,{style:{borderRadius:"12px",padding:"20px",backgroundColor:"#ffffff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},bordered:!1,children:[Object(p.jsx)(ie.a,{justify:"center",align:"middle",style:{marginBottom:"20px"},children:Object(p.jsxs)(ae.a,{style:{textAlign:"center"},children:[Object(p.jsx)(D.a,{size:120,src:o.student_photo_path?"https://api-pil.site/".concat(null===(t=o.student_photo_path)||void 0===t?void 0:t.replace(/\\/g,"/")):void 0,icon:Object(p.jsx)(U.a,{}),style:{marginBottom:"15px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}}),Object(p.jsxs)("div",{style:{fontWeight:"bold",fontSize:"18px",color:"#333",marginBottom:"5px"},children:[o.student_name||"N/A"," "]}),Object(p.jsxs)("div",{style:{fontSize:"14px",color:"#555"},children:[o.email||"N/A"," "]})]})}),Object(p.jsx)(ie.a,{justify:"center",style:{marginBottom:"20px"},children:Object(p.jsx)(ae.a,{children:Object(p.jsxs)(je,{level:4,children:["Application Status: ",function(e){switch(e){case"approved":return Object(p.jsx)(T.a,{icon:Object(p.jsx)(M.a,{}),color:"success",children:"Approved"});case"pending":return Object(p.jsx)(T.a,{icon:Object(p.jsx)(q.a,{}),color:"warning",children:"Pending"});case"rejected":return Object(p.jsx)(T.a,{icon:Object(p.jsx)(H.a,{}),color:"error",children:"Rejected"});default:return Object(p.jsx)(T.a,{children:"Unknown"})}}(o.applicationStatus)]})})}),Object(p.jsx)(le.a,{style:{borderColor:"#1890ff"},children:"Personal Information"}),Object(p.jsxs)(de.b,{bordered:!0,column:2,size:"middle",children:[Object(p.jsx)(de.b.Item,{label:"Class",children:o.class||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Date of Birth",children:o.dob?"".concat(o.dob.day,"-").concat(o.dob.month,"-").concat(o.dob.year):"N/A"}),Object(p.jsx)(de.b.Item,{label:"Blood Group",children:Object(p.jsx)(T.a,{color:"blue",children:o.blood_group||"N/A"})}),Object(p.jsx)(de.b.Item,{label:"PEN No",children:o.pen_no||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Residence",children:o.residence||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Village",children:o.village||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Tehsil",children:o.tehsil||"N/A"}),Object(p.jsx)(de.b.Item,{label:"District",children:o.district||"N/A"})]}),Object(p.jsx)(le.a,{style:{borderColor:"#1890ff"},children:"Parent/Guardian Details"}),Object(p.jsxs)(de.b,{bordered:!0,column:2,size:"middle",children:[Object(p.jsx)(de.b.Item,{label:"Father's Name",children:o.father_name||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Father's Profession",children:o.father_profession||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Father's Contact",children:o.father_contact||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Mother's Name",children:o.mother_name||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Mother's Profession",children:o.mother_profession||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Mother's Contact",children:o.mother_contact||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Guardian's Name",children:o.guardian_name||"N/A"}),Object(p.jsx)(de.b.Item,{label:"Guardian's Profession",children:o.guardian_profession||"N/A"})]}),Object(p.jsx)(le.a,{style:{borderColor:"#1890ff"},children:"Uploaded Documents"}),Object(p.jsxs)(ie.a,{gutter:[16,16],justify:"center",children:[Z("DOB Certificate",o.dob_certificate_path),Z("Blood Report",o.blood_report_path),Z("Aadhar Card",o.aadhar_card_path),Z("Passport Photos",o.passport_photos_path),Z("Marks Certificate",o.marks_certificate_path),Z("School Leaving Certificate",o.school_leaving_cert_path)]})]}),Object(p.jsx)(E.a,{visible:!!m,footer:null,onCancel:function(){return O(null)},centered:!0,"aria-label":"Image preview modal",children:Object(p.jsx)(re.a,{src:m,alt:"Document Preview",style:{width:"100%"}})})]})},me=n(8),Oe=n(340),ge=n(345),ve=n(355),ye=n(229),we=n(230),ke=n(227),Se=n(81),Ae=Y.a.create({baseURL:Se.b});Ae.interceptors.request.use((function(e){var t=localStorage.getItem(Se.a);return t&&(t=t.replace(/^"|"$/g,""),e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return I.b.error("Failed to send request."),Promise.reject(e)})),Ae.interceptors.response.use((function(e){return e}),(function(e){if(e.response){var t=e.response,n=t.status,a=t.data;switch(n){case 400:I.b.error(a.message||"Bad Request.");break;case 401:I.b.error("Unauthorized. Please log in again.");break;case 403:I.b.error("Forbidden. You do not have permission to perform this action.");break;case 404:I.b.error("Resource not found.");break;case 500:I.b.error("Internal Server Error. Please try again later.");break;default:I.b.error(a.message||"An unexpected error occurred.")}}else e.request?I.b.error("No response from server. Please check your network."):I.b.error("Error: ".concat(e.message));return Promise.reject(e)}));var Ce=Ae,_e=Oe.a.Content,Ee=ne.a.Title,Ie=_.a.Option,De=E.a.confirm,Te=function(e,t){if(!e)return"";var n=e.split(" ");return n.length<=t?e:"".concat(n.slice(0,t).join(" "),"...")},Ne=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(k.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(null),u=Object(k.a)(d,2),b=u[0],j=u[1],h=ge.a.useForm(),f=Object(k.a)(h,1)[0],x=Object(a.useState)(!0),m=Object(k.a)(x,2),O=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(k.a)(v,2),S=y[0],D=y[1],N=Object(a.useState)(!1),R=Object(k.a)(N,2),P=R[0],L=R[1],B=Object(a.useState)(null),U=Object(k.a)(B,2),M=U[0],q=U[1],H=Object(a.useState)(null),G=Object(k.a)(H,2),V=G[0],Y=G[1],Q=["Nursery","LKG","UKG","1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th"];Object(a.useEffect)((function(){J()}),[]);var J=function(){var e=Object(w.a)(A.a.mark((function e(){var t,n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),Y(null),e.prev=2,e.next=5,Ce.get("/messages");case 5:if(!(t=e.sent).data.success){e.next=12;break}n=t.data.data.sort((function(e,t){return new Date(t.sentAt)-new Date(e.sentAt)})),a=n.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:e._id,serialNo:t+1})})),r(a),e.next=13;break;case 12:throw new Error("Failed to fetch messages.");case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Error fetching messages:",e.t0),Y("Failed to load messages."),I.b.error("Failed to load messages.");case 20:return e.prev=20,g(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,15,20,23]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(w.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D(!0),!b){e.next=8;break}return e.next=5,Ce.put("/messages/".concat(b._id),t);case 5:I.b.success("Message updated successfully!"),e.next=11;break;case 8:return e.next=10,Ce.post("/messages",t);case 10:I.b.success("Message created successfully!");case 11:f.resetFields(),o(!1),j(null),J(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error saving message:",e.t0),I.b.error("Failed to save message.");case 21:return e.prev=21,D(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){L(!1),q(null)},X=[{title:"Serial No",dataIndex:"serialNo",key:"serialNo",sorter:function(e,t){return e.serialNo-t.serialNo},width:80,align:"center",responsive:["lg"]},{title:"Title",dataIndex:"title",key:"title",sorter:function(e,t){return e.title.localeCompare(t.title)},width:200,render:function(e){return Object(p.jsx)(T.a,{color:"purple",children:e})},responsive:["sm"]},{title:"Content",dataIndex:"content",key:"content",width:300,render:function(e,t){return Object(p.jsxs)("span",{children:[Te(e,20)," ",Object(p.jsx)(F.a,{type:"link",onClick:function(){return function(e){q(e),L(!0)}(t)},style:{padding:0},"aria-label":"Read more about message titled ".concat(t.title),children:"Read More"})]})},responsive:["md"]},{title:"Sent By",dataIndex:"sentBy",key:"sentBy",sorter:function(e,t){return e.sentBy.localeCompare(t.sentBy)},width:150,render:function(e){return Object(p.jsx)(T.a,{color:"geekblue",children:e})},responsive:["sm"]},{title:"Target Audience",dataIndex:"targetAudience",key:"targetAudience",filters:[{text:"All",value:"All"},{text:"Parents",value:"Parents"},{text:"Boys",value:"Boys"},{text:"Girls",value:"Girls"}].concat(Object(me.a)(Q.map((function(e){return{text:e,value:e}})))),onFilter:function(e,t){return t.targetAudience===e},width:180,render:function(e){return Object(p.jsx)(T.a,{color:"orange",children:e})},responsive:["sm"]},{title:"Sent At",dataIndex:"sentAt",key:"sentAt",sorter:function(e,t){return new Date(e.sentAt)-new Date(t.sentAt)},render:function(e){return new Date(e).toLocaleString()},width:180,responsive:["lg"]},{title:"Actions",key:"actions",render:function(e,t){return Object(p.jsxs)(ve.b,{size:"middle",children:[Object(p.jsx)(F.a,{icon:Object(p.jsx)(ye.a,{}),type:"primary",onClick:function(){return function(e){j(e),o(!0),f.setFieldsValue({title:e.title,content:e.content,sentBy:e.sentBy,targetAudience:e.targetAudience})}(t)},"aria-label":"Edit message titled ".concat(t.title),children:"Edit"}),Object(p.jsx)(F.a,{icon:Object(p.jsx)(we.a,{}),type:"danger",onClick:function(){return e=t._id,void De({title:"Are you sure you want to delete this message?",icon:Object(p.jsx)(W.a,{}),content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){var t=Object(w.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce.delete("/messages/".concat(e));case 3:I.b.success("Message deleted successfully!"),J(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error deleting message:",t.t0),I.b.error("Failed to delete message.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()});var e},"aria-label":"Delete message titled ".concat(t.title),children:"Delete"})]})},width:150,align:"center",responsive:["sm"]}];return Object(p.jsxs)(Oe.a,{style:{padding:"24px",background:"#f0f2f5",minHeight:"100vh"},children:[Object(p.jsxs)(_e,{children:[Object(p.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:Object(p.jsx)(Ee,{level:2,style:{color:"#1890ff"},children:"Message Management"})}),V&&Object(p.jsx)(ce.a,{message:"Error",description:V,type:"error",showIcon:!0,style:{marginBottom:"20px"}}),Object(p.jsx)("div",{style:{textAlign:"right",marginBottom:"20px"},children:Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(ke.a,{}),onClick:function(){o(!0),j(null),f.resetFields()},children:"Add Message"})}),Object(p.jsx)(z.a,{columns:X,dataSource:n,loading:O,pagination:{pageSize:10},bordered:!0,rowClassName:"table-row",scroll:{x:"max-content"},style:{background:"#ffffff",borderRadius:"8px"}}),Object(p.jsx)(E.a,{title:b?"Edit Message":"Add New Message",visible:i,onCancel:function(){o(!1),j(null),f.resetFields()},footer:null,destroyOnClose:!0,centered:!0,width:600,children:Object(p.jsxs)(ge.a,{form:f,layout:"vertical",onFinish:K,initialValues:{targetAudience:"All"},children:[Object(p.jsx)(ge.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please enter the message title"}],children:Object(p.jsx)(C.a,{placeholder:"Enter message title",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"Content",name:"content",rules:[{required:!0,message:"Please enter the message content"}],children:Object(p.jsx)(C.a.TextArea,{rows:4,placeholder:"Enter message content",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"Sent By",name:"sentBy",rules:[{required:!0,message:"Please enter the sender"}],children:Object(p.jsx)(C.a,{placeholder:"Enter sender's name",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"Target Audience",name:"targetAudience",rules:[{required:!0,message:"Please select the target audience"}],children:Object(p.jsxs)(_.a,{disabled:S,children:[" ",Object(p.jsx)(Ie,{value:"All",children:"All"}),Object(p.jsx)(Ie,{value:"Parents",children:"Parents"}),Object(p.jsx)(Ie,{value:"Boys",children:"Boys"}),Object(p.jsx)(Ie,{value:"Girls",children:"Girls"}),Q.map((function(e){return Object(p.jsx)(Ie,{value:e,children:e},e)}))]})}),Object(p.jsx)(ge.a.Item,{children:Object(p.jsxs)(ve.b,{children:[Object(p.jsx)(F.a,{type:"primary",htmlType:"submit",loading:S,disabled:S,children:b?"Update":"Create"}),Object(p.jsx)(F.a,{onClick:function(){o(!1),j(null),f.resetFields()},disabled:S,children:"Cancel"})]})})]})}),Object(p.jsx)(E.a,{title:M?M.title:"Message Details",visible:P,onCancel:$,footer:[Object(p.jsx)(F.a,{onClick:$,children:"Close"},"close")],centered:!0,width:600,children:M&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{children:M.content}),Object(p.jsxs)("div",{style:{marginTop:"15px"},children:[Object(p.jsxs)(T.a,{color:"#10b477",children:["Audience: ",M.targetAudience]}),Object(p.jsxs)(T.a,{color:"#087f5b",children:["Sent By: ",M.sentBy]})]}),Object(p.jsxs)("p",{style:{textAlign:"right",marginTop:"10px",color:"#6c757d"},children:["Sent At: ",new Date(M.sentAt).toLocaleString()]})]})})]}),Object(p.jsx)("style",{jsx:"true",children:"\n        .table-row:hover {\n          background-color: #e6f7ff !important;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .ant-table-thead > tr > th {\n            font-size: 12px;\n          }\n\n          .ant-table-tbody > tr > td {\n            font-size: 12px;\n          }\n\n          .ant-input,\n          .ant-btn,\n          .ant-select {\n            width: 100% !important;\n          }\n\n          /* Adjust modal width on smaller screens */\n          .ant-modal {\n            width: 90% !important;\n          }\n        }\n\n        @media (max-width: 576px) {\n          .ant-modal-title {\n            font-size: 1.3rem;\n          }\n\n          .ant-modal-body {\n            font-size: 0.9rem;\n          }\n        }\n      "})]})},Fe=n(343),Re=n(361),Pe=Oe.a.Content,ze=ne.a.Title,Le=E.a.confirm,Be=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(k.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(null),u=Object(k.a)(d,2),b=u[0],j=u[1],h=ge.a.useForm(),f=Object(k.a)(h,1)[0],x=Object(a.useState)(!0),m=Object(k.a)(x,2),O=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(k.a)(v,2),S=y[0],_=y[1];Object(a.useEffect)((function(){D()}),[]);var D=function(){var e=Object(w.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,Ce.get("/syllabus");case 4:t=e.sent,n=t.data.data.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:e._id,serialNo:t+1})})),r(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching syllabi:",e.t0),I.b.error("Failed to load syllabi.");case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(A.a.mark((function e(t){var n,a,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.className,r=t.pdf,a&&null!==r&&void 0!==r&&null!==(n=r[0])&&void 0!==n&&n.originFileObj){e.next=4;break}return I.b.error("Please fill out all required fields and upload a valid PDF."),e.abrupt("return");case 4:if((c=new FormData).append("class",a),c.append("pdf",r[0].originFileObj),_(!0),e.prev=8,!b){e.next=15;break}return e.next=12,Ce.put("/syllabus/".concat(b._id),c,{headers:{"Content-Type":"multipart/form-data"}});case 12:I.b.success("Syllabus updated successfully!"),e.next=18;break;case 15:return e.next=17,Ce.post("/syllabus",c,{headers:{"Content-Type":"multipart/form-data"}});case 17:I.b.success("Syllabus created successfully!");case 18:f.resetFields(),o(!1),D(),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),console.error("Error saving syllabus:",e.t0),I.b.error("Failed to save syllabus. Please try again.");case 27:return e.prev=27,_(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[8,23,27,30]])})));return function(t){return e.apply(this,arguments)}}(),R=[{title:"Serial No",dataIndex:"serialNo",key:"serialNo",width:"10%"},{title:"Class",dataIndex:"class",key:"class",render:function(e){return Object(p.jsx)(T.a,{color:"blue",children:e})},width:"20%"},{title:"PDF",dataIndex:"pdfUrl",key:"pdfUrl",render:function(e){return e?Object(p.jsx)("a",{href:"https://api-pil.site/".concat(e.replace(/\\/g,"/")),target:"_blank",rel:"noopener noreferrer",children:Object(p.jsx)(F.a,{icon:Object(p.jsx)(ue.a,{}),type:"link",children:"View PDF"})}):"No File"},width:"30%"},{title:"Actions",key:"actions",render:function(e,t){return Object(p.jsxs)(ve.b,{size:"middle",children:[Object(p.jsx)(F.a,{icon:Object(p.jsx)(ye.a,{}),onClick:function(){return function(e){j(e),o(!0),f.setFieldsValue({className:e.class,pdf:[{uid:"-1",name:"Existing PDF",status:"done",url:"https://api-pil.site/".concat(e.pdfUrl.replace(/\\/g,"/"))}]})}(t)},type:"primary",children:"Edit"}),Object(p.jsx)(F.a,{icon:Object(p.jsx)(we.a,{}),danger:!0,onClick:function(){return e=t._id,void Le({title:"Are you sure you want to delete this syllabus?",icon:Object(p.jsx)(ue.a,{}),content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){var t=Object(w.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce.delete("/syllabus/".concat(e));case 3:I.b.success("Syllabus deleted successfully!"),D(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error deleting syllabus:",t.t0),I.b.error("Failed to delete syllabus.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()});var e},children:"Delete"})]})},width:"40%"}];return Object(p.jsx)(Oe.a,{style:{padding:"24px",background:"#f0f2f5",minHeight:"100vh"},children:Object(p.jsxs)(Pe,{children:[Object(p.jsx)(ze,{level:2,style:{textAlign:"center"},children:"Syllabus Management"}),Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(ke.a,{}),onClick:function(){o(!0),f.resetFields(),j(null)},style:{marginBottom:"16px"},children:"Add Syllabus"}),Object(p.jsx)(z.a,{columns:R,dataSource:n,loading:O,pagination:{pageSize:10}}),Object(p.jsx)(E.a,{title:b?"Edit Syllabus":"Add New Syllabus",visible:i,onCancel:function(){return o(!1)},footer:null,destroyOnClose:!0,children:Object(p.jsxs)(ge.a,{form:f,layout:"vertical",onFinish:N,children:[Object(p.jsx)(ge.a.Item,{label:"Class",name:"className",rules:[{required:!0,message:"Please enter the class name"}],children:Object(p.jsx)(C.a,{placeholder:"Enter class name",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"PDF Upload",name:"pdf",valuePropName:"fileList",getValueFromEvent:function(e){return e&&e.fileList},rules:[{required:!b,message:"Please upload a valid PDF"}],children:Object(p.jsx)(Fe.a,{beforeUpload:function(){return!1},accept:".pdf",listType:"text",maxCount:1,disabled:S,children:Object(p.jsx)(F.a,{icon:Object(p.jsx)(Re.a,{}),disabled:S,children:"Click to Upload"})})}),Object(p.jsx)(ge.a.Item,{children:Object(p.jsx)(F.a,{type:"primary",htmlType:"submit",block:!0,loading:S,disabled:S,children:b?"Update":"Create"})})]})})]})})},Ue=Oe.a.Content,Me=ne.a.Title,qe=E.a.confirm,He=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(k.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(null),u=Object(k.a)(d,2),b=u[0],j=u[1],h=ge.a.useForm(),f=Object(k.a)(h,1)[0],x=Object(a.useState)(!0),m=Object(k.a)(x,2),O=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(k.a)(v,2),S=y[0],_=y[1];Object(a.useEffect)((function(){D()}),[]);var D=function(){var e=Object(w.a)(A.a.mark((function e(){var t,n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,Ce.get("/datesheet");case 4:t=e.sent,n=t.data.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),a=n.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:e._id,serialNo:t+1})})),r(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error fetching datesheets:",e.t0),I.b.error("Failed to load datesheets.");case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(A.a.mark((function e(t){var n,a,r,c,s,i,l,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.examName,r=t.year,c=t.className,s=t.pdf,a&&r&&c&&null!==s&&void 0!==s&&null!==(n=s[0])&&void 0!==n&&n.originFileObj){e.next=4;break}return I.b.error("Please fill out all required fields and upload a valid PDF."),e.abrupt("return");case 4:if((i=new FormData).append("examName",a),i.append("year",r),i.append("class",c),!((null===s||void 0===s?void 0:s.length)>0)){e.next=12;break}i.append("pdf",s[0].originFileObj),e.next=14;break;case 12:return I.b.error("Please upload a valid PDF file."),e.abrupt("return");case 14:if(_(!0),e.prev=15,!b){e.next=22;break}return e.next=19,Ce.put("/datesheet/".concat(b._id),i,{headers:{"Content-Type":"multipart/form-data"}});case 19:I.b.success("Datesheet updated successfully!"),e.next=25;break;case 22:return e.next=24,Ce.post("/datesheet",i,{headers:{"Content-Type":"multipart/form-data"}});case 24:I.b.success("Datesheet created successfully!");case 25:f.resetFields(),o(!1),j(null),D(),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(15),console.error("Error saving datesheet:",e.t0.response||e.t0.message),I.b.error((null===(l=e.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.error)||"Failed to save datesheet. Please try again.");case 35:return e.prev=35,_(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[15,31,35,38]])})));return function(t){return e.apply(this,arguments)}}(),R=[{title:"Serial No",dataIndex:"serialNo",key:"serialNo",sorter:function(e,t){return e.serialNo-t.serialNo},width:80,align:"center"},{title:"Exam Name",dataIndex:"examName",key:"examName"},{title:"Year",dataIndex:"year",key:"year"},{title:"Class",dataIndex:"class",key:"class",render:function(e){return Object(p.jsx)(T.a,{color:"blue",children:e})}},{title:"PDF",dataIndex:"pdf",key:"pdf",render:function(e){if(!e)return"No File";var t="https://api-pil.site/".concat(e.replace(/\\/g,"/"));return Object(p.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:Object(p.jsx)(F.a,{icon:Object(p.jsx)(ue.a,{}),type:"link",children:"View PDF"})})},width:120,align:"center"},{title:"Uploaded At",dataIndex:"createdAt",key:"createdAt",render:function(e){return new Date(e).toLocaleString()}},{title:"Actions",key:"actions",render:function(e,t){return Object(p.jsxs)(ve.b,{size:"middle",children:[Object(p.jsx)(F.a,{icon:Object(p.jsx)(ye.a,{}),type:"primary",onClick:function(){return function(e){j(e),o(!0),f.setFieldsValue({examName:e.examName,year:e.year,className:e.class,pdf:[{uid:"-1",name:"Existing PDF",status:"done",url:"https://api-pil.site/".concat(e.pdf.replace(/\\/g,"/"))}]})}(t)},children:"Edit"}),Object(p.jsx)(F.a,{icon:Object(p.jsx)(we.a,{}),type:"danger",onClick:function(){return e=t._id,void qe({title:"Are you sure you want to delete this datesheet?",icon:Object(p.jsx)(ue.a,{}),content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){var t=Object(w.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce.delete("/datesheet/".concat(e));case 3:I.b.success("Datesheet deleted successfully!"),D(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error deleting datesheet:",t.t0),I.b.error("Failed to delete datesheet.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()});var e},children:"Delete"})]})}}];return Object(p.jsx)(Oe.a,{style:{padding:"24px",background:"#f0f2f5",minHeight:"100vh"},children:Object(p.jsxs)(Ue,{children:[Object(p.jsx)(Me,{level:2,style:{textAlign:"center",color:"#1890ff"},children:"Datesheet Management"}),Object(p.jsx)(F.a,{type:"primary",icon:Object(p.jsx)(ke.a,{}),style:{marginBottom:"20px"},onClick:function(){o(!0),j(null),f.resetFields()},children:"Add Datesheet"}),Object(p.jsx)(z.a,{columns:R,dataSource:n,loading:O,pagination:{pageSize:10}}),Object(p.jsx)(E.a,{title:b?"Edit Datesheet":"Add New Datesheet",visible:i,onCancel:function(){o(!1),j(null),f.resetFields()},footer:null,destroyOnClose:!0,children:Object(p.jsxs)(ge.a,{form:f,layout:"vertical",onFinish:N,children:[Object(p.jsx)(ge.a.Item,{label:"Exam Name",name:"examName",rules:[{required:!0,message:"Please enter the exam name"}],children:Object(p.jsx)(C.a,{placeholder:"Enter exam name (e.g., Mid-term, Final Exam)",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"Year",name:"year",rules:[{required:!0,message:"Please enter the year"}],children:Object(p.jsx)(C.a,{type:"number",placeholder:"Enter year (e.g., 2024)",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"Class",name:"className",rules:[{required:!0,message:"Please enter the class name"}],children:Object(p.jsx)(C.a,{placeholder:"Enter class name (e.g., 10, 12)",disabled:S})}),Object(p.jsx)(ge.a.Item,{label:"PDF Upload",name:"pdf",valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList},rules:[{required:!0,message:"Please upload the datesheet PDF"}],children:Object(p.jsx)(Fe.a,{beforeUpload:function(){return!1},accept:".pdf",maxCount:1,disabled:S,children:Object(p.jsx)(F.a,{icon:Object(p.jsx)(Re.a,{}),disabled:S,children:"Click to Upload PDF"})})}),Object(p.jsx)(ge.a.Item,{children:Object(p.jsxs)(ve.b,{children:[Object(p.jsx)(F.a,{type:"primary",htmlType:"submit",loading:S,disabled:S,children:b?"Update":"Create"}),Object(p.jsx)(F.a,{onClick:function(){o(!1),j(null),f.resetFields()},disabled:S,children:"Cancel"})]})})]})})]})})},Ge=Oe.a.Content,We=ne.a.Title,Ve=E.a.confirm,Ye=function(e,t){if(!e)return"";var n=e.split(" ");return n.length<=t?e:"".concat(n.slice(0,t).join(" "),"...")},Qe=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),s=Object(k.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(null),d=Object(k.a)(l,2),u=d[0],b=d[1],j=Object(a.useState)(!1),h=Object(k.a)(j,2),f=h[0],x=h[1],m=Object(a.useState)(null),O=Object(k.a)(m,2),g=O[0],v=O[1],y=function(){var e=Object(w.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),b(null),e.prev=2,e.next=5,Ce.get("/contact");case 5:if(!(t=e.sent).data.success){e.next=10;break}r(t.data.data),e.next=11;break;case 10:throw new Error("Failed to fetch contacts.");case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching contacts:",e.t0),b("Failed to load contacts."),I.b.error("Failed to load contacts.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,13,18,21]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[]);var S=function(){x(!1),v(null)},C=[{title:"Serial No",dataIndex:"serialNo",key:"serialNo",render:function(e,t,n){return n+1},width:80,align:"center"},{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e){return Object(p.jsx)(T.a,{color:"blue",children:e})},width:150},{title:"Email",dataIndex:"email",key:"email",render:function(e){return Object(p.jsx)("a",{href:"mailto:".concat(e),children:e})},width:200},{title:"Subject",dataIndex:"subject",key:"subject",sorter:function(e,t){return e.subject.localeCompare(t.subject)},render:function(e){return Object(p.jsx)(T.a,{color:"green",children:e})},width:200},{title:"Message",dataIndex:"message",key:"message",render:function(e,t){return Object(p.jsxs)("span",{children:[Ye(e,20)," ",Object(p.jsx)(F.a,{type:"link",icon:Object(p.jsx)(G.a,{}),onClick:function(){return v(t),void x(!0)},"aria-label":"View full message from ".concat(t.name),children:"View"})]})},width:300},{title:"Created At",dataIndex:"createdAt",key:"createdAt",sorter:function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)},render:function(e){return new Date(e).toLocaleString()},width:200},{title:"Actions",key:"actions",render:function(e,t){return Object(p.jsx)(ve.b,{size:"middle",children:Object(p.jsx)(F.a,{type:"danger",icon:Object(p.jsx)(we.a,{}),onClick:function(){return e=t._id,void Ve({title:"Are you sure you want to delete this contact?",icon:Object(p.jsx)(B.a,{}),content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){var t=Object(w.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce.delete("/contact/".concat(e));case 3:I.b.success("Contact deleted successfully!"),y(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error deleting contact:",t.t0),I.b.error("Failed to delete contact.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()});var e},"aria-label":"Delete contact from ".concat(t.name),children:"Delete"})})},width:150,align:"center"}];return Object(p.jsxs)(Oe.a,{style:{padding:"24px",background:"#f0f2f5",minHeight:"100vh"},children:[Object(p.jsxs)(Ge,{children:[Object(p.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:Object(p.jsx)(We,{level:2,style:{color:"#1890ff"},children:"Contacts Management"})}),u&&Object(p.jsx)(ce.a,{message:"Error",description:u,type:"error",showIcon:!0,style:{marginBottom:"20px"},closable:!0,onClose:function(){return b(null)}}),Object(p.jsx)(z.a,{columns:C,dataSource:n,loading:i,pagination:{pageSize:10},bordered:!0,rowKey:"_id",style:{background:"#ffffff",borderRadius:"8px"}}),Object(p.jsx)(E.a,{title:g?"Message from ".concat(g.name):"Contact Details",visible:f,onCancel:S,footer:[Object(p.jsx)(F.a,{onClick:S,children:"Close"},"close")],centered:!0,width:600,children:g&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Email:"})," ",Object(p.jsx)("a",{href:"mailto:".concat(g.email),children:g.email})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Subject:"})," ",g.subject]}),Object(p.jsx)("p",{children:Object(p.jsx)("strong",{children:"Message:"})}),Object(p.jsx)("p",{children:g.message}),Object(p.jsx)("p",{style:{textAlign:"right",color:"#6c757d"},children:Object(p.jsxs)("em",{children:["Sent At: ",new Date(g.createdAt).toLocaleString()]})})]})})]}),Object(p.jsx)("style",{jsx:"true",children:"\n        .table-row:hover {\n          background-color: #e6f7ff !important;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .ant-table-thead > tr > th {\n            font-size: 12px;\n          }\n\n          .ant-table-tbody > tr > td {\n            font-size: 12px;\n          }\n\n          .ant-input,\n          .ant-btn,\n          .ant-select {\n            width: 100% !important;\n          }\n        }\n\n        @media (max-width: 576px) {\n          .ant-modal-title {\n            font-size: 1.3rem;\n          }\n\n          .ant-modal-body {\n            font-size: 0.9rem;\n          }\n        }\n      "})]})},Je=Object(a.lazy)((function(){return Promise.all([n.e(8),n.e(1)]).then(n.bind(null,386))})),Ke=Object(a.lazy)((function(){return n.e(0).then(n.bind(null,393))})),$e=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,387))})),Xe=Object(a.lazy)((function(){return Promise.all([n.e(9),n.e(4)]).then(n.bind(null,385))}));function Ze(){var e=Object(s.h)();return Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)(x,{}),children:Object(p.jsx)(o.a,{exitBeforeEnter:!0,initial:!1,children:Object(p.jsxs)(s.d,{location:e,children:[Object(p.jsx)(y,{path:"/",component:Je,exact:!0}),Object(p.jsx)(y,{component:te,path:"/admissionApplication",exact:!0}),Object(p.jsx)(y,{component:Ke,path:"/admin",exact:!0}),Object(p.jsx)(y,{component:$e,path:"/logout",exact:!0}),Object(p.jsx)(y,{component:xe,path:"/admission/:id",exact:!0}),Object(p.jsx)(y,{component:Ne,path:"/message",exact:!0}),Object(p.jsx)(y,{component:Be,path:"/syllabus",exact:!0}),Object(p.jsx)(y,{component:He,path:"/datesheet",exact:!0}),Object(p.jsx)(y,{component:Qe,path:"/contacts",exact:!0}),Object(p.jsx)(h,{path:"/login",render:function(){return Object(p.jsx)(s.a,{to:"/"})}}),Object(p.jsx)(s.b,{path:"*",component:Xe})]},e.pathname)})})}var et=n(100),tt=n(362),nt=n(363),at=n(364),rt=Oe.a.Sider;var ct=function(){var e=Object(a.useState)(!1),t=Object(k.a)(e,2),n=t[0],r=t[1];return Object(p.jsxs)(rt,{collapsible:!0,collapsed:n,onCollapse:function(){r(!n)},style:{zIndex:1e3},children:[Object(p.jsx)("div",{className:"logo",style:{height:"88px",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"26px",overflow:"hidden",background:"transparent"},children:Object(p.jsx)("img",{src:"https://pioneerinstitute.in/assets/images/wt-logo.png",alt:"Logo",style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain",transition:"all 0.3s ease-in-out"}})}),Object(p.jsxs)(et.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(tt.a,{}),children:Object(p.jsx)(L.a,{to:"/",children:"Home Page"})},"1"),Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(nt.a,{}),children:Object(p.jsx)(L.a,{to:"/admissionApplication",children:"Admission Application"})},"2"),Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(at.a,{}),children:Object(p.jsx)(L.a,{to:"/syllabus",children:"Syllabus"})},"3"),Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(U.a,{}),children:Object(p.jsx)(L.a,{to:"/message",children:"Message"})},"5"),Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(U.a,{}),children:Object(p.jsx)(L.a,{to:"/datesheet",children:"Datesheet"})},"6"),Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(U.a,{}),children:Object(p.jsx)(L.a,{to:"/contacts",children:"Contacts"})},"7"),Object(p.jsx)(et.a.Item,{icon:Object(p.jsx)(nt.a,{}),children:Object(p.jsx)(L.a,{to:"/logout",children:"Logout"})},"8")]})]})},st=n(211);function it(){var e=Object(i.c)(st.a).isLoggedIn;return Object(a.useEffect)((function(){console.log("isLoggedIn : ",e)}),[e]),!1===e?Object(p.jsx)(Oe.a,{style:{minHeight:"100vh"},children:Object(p.jsx)(g,{})}):Object(p.jsxs)(Oe.a,{style:{minHeight:"100vh"},children:[Object(p.jsx)(ct,{}),Object(p.jsx)(Oe.a,{style:{minHeight:"100vh"},children:Object(p.jsx)(Ze,{})})]})}var ot=n(143),lt=n(125),dt=n(220),ut=n(219),bt=n(92),pt={current:{},loading:!1,isLoggedIn:!1},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt.b:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case bt.a:return pt;case bt.c:return{current:t.payload,loading:!1,isLoggedIn:!0};case bt.d:return pt;default:return e}},ht=n(3),ft="CRUD_RESET_STATE",xt="CRUD_CURRENT_ITEM",mt="CRUD_REQUEST_LOADING",Ot="CRUD_REQUEST_SUCCESS",gt="CRUD_REQUEST_FAILED",vt="CRUD_CURRENT_ACTION",yt="CRUD_RESET_ACTION",wt={result:null,current:null,isLoading:!1,isSuccess:!1},kt={current:{result:null},list:{result:{items:[],pagination:{current:1,pageSize:10,total:1}},isLoading:!1,isSuccess:!1},create:wt,update:wt,delete:wt,read:wt,search:Object(l.a)(Object(l.a)({},wt),{},{result:[]})},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.keyState;switch(t.type){case ft:return kt;case xt:return Object(l.a)(Object(l.a)({},e),{},{current:{result:n}});case mt:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},a,Object(l.a)(Object(l.a)({},e[a]),{},{isLoading:!0})));case gt:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},a,Object(l.a)(Object(l.a)({},e[a]),{},{isLoading:!1,isSuccess:!1})));case Ot:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},a,Object(l.a)(Object(l.a)({},e[a]),{},{result:n,isLoading:!1,isSuccess:!0})));case vt:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},a,Object(l.a)(Object(l.a)({},wt),{},{current:n})));case yt:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},a,Object(l.a)({},kt[a])));default:return e}},At="SEARCH_INIT_STATE",Ct="SEARCH_RESET_STATE",_t="SEARCH_CURRENT_SELECTED",Et="SEARCH_REQUEST_LOADING",It="SEARCH_REQUEST_SUCCESS",Dt="SEARCH_REQUEST_FAILED",Tt="SEARCH_RESET_REF",Nt={result:[],selected:null,isLoading:!1,isSuccess:!1},Ft={},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=void 0===n?null:n,r=t.keyState,c=void 0===r?null:r;switch(t.type){case At:var s={};return a.map((function(e){return s[e]=Nt})),s;case Ct:return Ft;case Tt:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},c,Nt));case _t:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},c,Object(l.a)(Object(l.a)({},e[c]),{},{selected:a})));case Et:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},c,Object(l.a)(Object(l.a)({},Nt),{},{isLoading:!0})));case Dt:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},c,Nt));case It:return Object(l.a)(Object(l.a)({},e),{},Object(ht.a)({},c,Object(l.a)(Object(l.a)({},Nt),{},{result:a,isSuccess:!0})));default:return e}},Pt=Object(lt.b)({auth:jt,crud:St,search:Rt}),zt=function(e,t){return t.type===bt.d&&(e=void 0),Pt(e,t)},Lt=n(131),Bt=(Object(ut.createLogger)(),[dt.a]),Ut=lt.a.apply(void 0,Object(me.a)(Bt));window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||lt.c;var Mt=Lt.a.get("auth")?{auth:Lt.a.get("auth")}:{},qt=Object(lt.d)(zt,Mt,Ut);var Ht=function(){return Object(p.jsx)(s.c,{history:ot.a,children:Object(p.jsx)(i.a,{store:qt,children:Object(p.jsx)(it,{})})})};n(335),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.log("process env","production"),c.a.render(Object(p.jsx)(Ht,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="http://api-pil.site/api/admin/",r="x-auth-token";console.log("API_BASE_URL:",a)},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s}));var a="AUTH_FAILED_REQUEST",r="AUTH_LOADING_REQUEST",c="AUTH_LOGIN_SUCCESS",s="AUTH_LOGOUT_SUCCESS"}},[[336,6,7]]]);
//# sourceMappingURL=main.abee123b.chunk.js.map